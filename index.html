<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PU5C1VER5E</title>

  <style>
    :root{
      /* Screen window alignment (tweak only these 4 if needed) */
      --screen-left: 17.5%;
      --screen-top: 18.5%;
      --screen-w: 65%;
      --screen-h: 67%;

      /* Debug outline (turn off when aligned) */
      --debug-outline: 1px solid rgba(57,255,90,.25);
      /* --debug-outline: none; */
    }

    html, body{ margin:0; height:100%; background:#000; }

    .wrap{
      min-height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:2.5vh 2vw;
    }

    .stage{
      position:relative;
      width:min(92vw, 1100px);
    }

    /* Monitor art */
    .monitor{
      width:100%;
      height:auto;
      display:block;
      user-select:none;
      -webkit-user-drag:none;
      pointer-events:none;
      filter: drop-shadow(0 30px 55px rgba(0,0,0,.65));
      position:relative;
      z-index:1;
    }

    /* Clipped "glass" window */
    .screen{
      position:absolute;
      left:var(--screen-left);
      top:var(--screen-top);
      width:var(--screen-w);
      height:var(--screen-h);
      overflow:hidden;
      border-radius:10px;
      outline: var(--debug-outline);
      z-index:2;
      pointer-events:none; /* click goes to hotspot */
    }

    /* Layers inside screen */
    .ufo, .beam, .beamall, .beamglow, .password{
      position:absolute;
      pointer-events:none;
      user-select:none;
      -webkit-user-drag:none;
    }

    /* UFO (change size here) */
    .ufo{
      left:50%;
      top:32%;
      width:85%; /* <-- BIGGER number = bigger UFO */
      height:auto;
      transform:translateX(-50%);
      opacity:.95;
      z-index:3;
      animation:ufoHover 4.5s ease-in-out infinite;
      filter:
        drop-shadow(0 0 12px rgba(90,255,140,.25))
        drop-shadow(0 0 28px rgba(90,255,140,.15));
    }

    @keyframes ufoHover{
      0%   { transform:translateX(-50%) translateY(0); }
      50%  { transform:translateX(-50%) translateY(-10px); }
      100% { transform:translateX(-50%) translateY(0); }
    }

    /* Beam frames fill the screen */
    .beam, .beamall, .beamglow{
      left:0; top:0;
      width:100%;
      height:100%;
      object-fit:contain;
      z-index:2;
      opacity:0;
      mix-blend-mode:screen; /* helps beams “read” on dark glass */
    }

    .beamglow{
      z-index:4;
      opacity:0;
      mix-blend-mode:screen;
    }

    /* Password box image (hidden until after beams) */
    .password{
      left:50%;
      top:62%;
      width:62%;
      height:auto;
      transform:translateX(-50%);
      z-index:5;
      opacity:0;
      transition: opacity 250ms ease;
      filter: drop-shadow(0 0 16px rgba(90,255,140,.18));
    }

    .show-password .password{
      opacity:1;
    }

    /* Click area MUST be on top */
    .hotspot{
      position:absolute;
      left:var(--screen-left);
      top:var(--screen-top);
      width:var(--screen-w);
      height:var(--screen-h);
      background:transparent;
      border:0;
      cursor:pointer;
      z-index:10;     /* <-- this is the “beams won’t play” fix */
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="stage" id="stage">

      <img class="monitor" src="./monitor.png" alt="monitor">

      <div class="screen" id="screen">
        <img class="ufo" src="./ufo.png" alt="ufo">

        <img class="beam" src="./beam-01.png" alt="">
        <img class="beam" src="./beam-02.png" alt="">
        <img class="beam" src="./beam-03.png" alt="">
        <img class="beam" src="./beam-04.png" alt="">
        <img class="beam" src="./beam-05.png" alt="">
        <img class="beam" src="./beam-06.png" alt="">
        <img class="beam" src="./beam-07.png" alt="">
        <img class="beam" src="./beam-08.png" alt="">

        <img class="beamall" src="./beamall.png" alt="">
        <img class="beamglow" src="./beamall-glow.png" alt="">

        <!-- New -->
        <img class="password" src="./password.png" alt="password box">
      </div>

      <button class="hotspot" id="hotspot" aria-label="Trigger beams"></button>
    </div>
  </div>

  <script>
    const stage = document.getElementById('stage');
    const beams = Array.from(document.querySelectorAll('.beam'));
    const beamAll = document.querySelector('.beamall');
    const beamGlow = document.querySelector('.beamglow');
    const hotspot = document.getElementById('hotspot');

    const BEAM_STEP_MS = 80;
    const HOLD_ALL_MS  = 350;

    function hideAllBeams(){
      beams.forEach(b => b.style.opacity = 0);
      if (beamAll) beamAll.style.opacity = 0;
      if (beamGlow) beamGlow.style.opacity = 0;
    }

    async function playBeams(){
      stage.classList.remove('show-password'); // hide password during blast
      hideAllBeams();

      for (let i = 0; i < beams.length; i++){
        if (i > 0) beams[i-1].style.opacity = 0;
        beams[i].style.opacity = 1;
        await new Promise(r => setTimeout(r, BEAM_STEP_MS));
      }

      // clear last frame
      beams[beams.length - 1].style.opacity = 0;

      // show “all beams” briefly
      if (beamAll) beamAll.style.opacity = 1;
      if (beamGlow) beamGlow.style.opacity = 1;

      await new Promise(r => setTimeout(r, HOLD_ALL_MS));

      hideAllBeams();
      stage.classList.add('show-password'); // reveal password box
    }

    let playing = false;
    hotspot.addEventListener('click', async () => {
      if (playing) return;
      playing = true;
      try { await playBeams(); }
      finally { playing = false; }
    });

    // start clean
    hideAllBeams();
  </script>
</body>
</html>
