<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PU5C1VER5E</title>

  <style>
    :root{
      /* ====== TUNE THESE 4 NUMBERS ONLY (screen window alignment) ======
         These are percentages relative to the monitor.png image.
         If things look "off", tweak these until the green outline hugs the glass.
      */
      --screen-left: 17.5%;
      --screen-top: 18.5%;
      --screen-w: 65%;
      --screen-h: 67%;

      /* Debug outline (set to "none" when you're done) */
      --debug-outline: 1px solid rgba(57,255,90,.25);
      /* --debug-outline: none; */
    }

    html, body{
      margin:0;
      height:100%;
      background:#000;
    }

    .wrap{
      min-height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:2.5vh 2vw;
    }

    .stage{
      position:relative;
      width:min(92vw, 1100px);
      height:auto;
    }

    /* The monitor artwork */
    .monitor{
      width:100%;
      height:auto;
      display:block;
      user-select:none;
      -webkit-user-drag:none;
      pointer-events:none;
      filter: drop-shadow(0 30px 55px rgba(0,0,0,.65));
    }

    /* The clipped "glass" window where we place UFO + beams */
    .screen{
      position:absolute;
      left:var(--screen-left);
      top:var(--screen-top);
      width:var(--screen-w);
      height:var(--screen-h);
      overflow:hidden;
      border-radius:10px;
      outline: var(--debug-outline);
      pointer-events:none; /* so clicks pass through to hotspot */
    }

    /* Content inside the screen */
    .ufo, .beam, .beamall, .beamglow{
      position:absolute;
      left:0; top:0;
      width:100%;
      height:100%;
      pointer-events:none;
      user-select:none;
      -webkit-user-drag:none;
    }

    /* UFO placement + size (THIS is where you change UFO size) */
    .ufo{
      left:50%;
      top:32%;
      width:52%;              /* <-- make bigger/smaller here */
      height:auto;
      transform:translateX(-50%);
      opacity:.95;
      animation:ufoHover 4.5s ease-in-out infinite;
      filter:
        drop-shadow(0 0 12px rgba(90,255,140,.25))
        drop-shadow(0 0 28px rgba(90,255,140,.15));
    }

    @keyframes ufoHover{
      0%   { transform:translateX(-50%) translateY(0); }
      50%  { transform:translateX(-50%) translateY(-10px); }
      100% { transform:translateX(-50%) translateY(0); }
    }

    /* Beam frames default hidden */
    .beam, .beamall, .beamglow{ opacity:0; }

    /* Make each beam frame fill the screen window */
    .beam{
      object-fit:contain;
    }

    /* A full “all beams” layer + glow (optional end cap) */
    .beamall{ object-fit:contain; }
    .beamglow{
      object-fit:contain;
      mix-blend-mode:screen;
    }

    /* Click area (so you can trigger beam sequence) */
    .hotspot{
      position:absolute;
      left:var(--screen-left);
      top:var(--screen-top);
      width:var(--screen-w);
      height:var(--screen-h);
      background:transparent;
      border:0;
      cursor:pointer;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="stage" id="stage">

      <!-- Monitor art -->
      <img class="monitor" src="./monitor.png" alt="monitor">

      <!-- Clipped screen window -->
      <div class="screen" id="screen">
        <img class="ufo" src="./ufo.png" alt="ufo">

        <!-- Beam sequence frames -->
        <img class="beam" src="./beam-01.png" alt="">
        <img class="beam" src="./beam-02.png" alt="">
        <img class="beam" src="./beam-03.png" alt="">
        <img class="beam" src="./beam-04.png" alt="">
        <img class="beam" src="./beam-05.png" alt="">
        <img class="beam" src="./beam-06.png" alt="">
        <img class="beam" src="./beam-07.png" alt="">
        <img class="beam" src="./beam-08.png" alt="">

        <!-- Optional: final “all beams” + glow -->
        <img class="beamall" src="./beamall.png" alt="">
        <img class="beamglow" src="./beamall-glow.png" alt="">
      </div>

      <!-- Click area to trigger beams -->
      <button class="hotspot" id="hotspot" aria-label="Trigger beams"></button>
    </div>
  </div>

  <script>
    const beams = Array.from(document.querySelectorAll('.beam'));
    const beamAll = document.querySelector('.beamall');
    const beamGlow = document.querySelector('.beamglow');
    const hotspot = document.getElementById('hotspot');

    const BEAM_STEP_MS = 70;
    const AFTER_BEAM_MS = 180;

    function hideAllBeams(){
      beams.forEach(b => b.style.opacity = 0);
      if (beamAll) beamAll.style.opacity = 0;
      if (beamGlow) beamGlow.style.opacity = 0;
    }

    function playBeamSequence(){
      return new Promise((resolve) => {
        hideAllBeams();

        let i = 0;
        const tick = () => {
          if (i > 0) beams[i-1].style.opacity = 0;

          if (i < beams.length) {
            beams[i].style.opacity = 1;
            i++;
            setTimeout(tick, BEAM_STEP_MS);
          } else {
            setTimeout(() => {
              // Optional: show the “all beams” layer for a beat
              if (beamAll) beamAll.style.opacity = 1;
              if (beamGlow) beamGlow.style.opacity = 1;

              setTimeout(() => {
                hideAllBeams();
                resolve();
              }, AFTER_BEAM_MS + 250);
            }, AFTER_BEAM_MS);
          }
        };

        tick();
      });
    }

    let playing = false;
    hotspot.addEventListener('click', async () => {
      if (playing) return;
      playing = true;
      try { await playBeamSequence(); }
      finally { playing = false; }
    });

    // Start clean
    hideAllBeams();
  </script>
</body>
</html>
